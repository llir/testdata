define i32 @test_asm_goto(i32 %x) {
entry:
	callbr void asm "", "r,!i"(i32 %x)
		to label %normal [label %fail]

normal:
	ret i32 1

fail:
	ret i32 0
}

define i32 @test_asm_goto2(i32 %x) {
entry:
	callbr void asm "", "r,!i,!i"(i32 %x)
		to label %normal [label %fail, label %fail2]

normal:
	ret i32 1

fail:
	ret i32 0

fail2:
	ret i32 2
}

define i32 @test_asm_goto3(i32 %x) {
entry:
	callbr void asm "", "r,i,!i"(i32 %x, i8* blockaddress(@test_asm_goto3, %unrelated))
		to label %normal [label %fail]

normal:
	ret i32 1

fail:
	ret i32 0

unrelated:
	ret i32 2
}
